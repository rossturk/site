<head>
  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/color/jquery.color-2.1.2.min.js"></script>

  <script language="JavaScript">

  var fonts = [
    {
      "font-family" : "Ribeye",
      "font-size" : "40px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+12px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Permanent Marker",
      "font-size" : "40px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+11px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Cabin Sketch",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+13px",
      "text-transform" : "none"
    },
      {
      "font-family" : "Vast Shadow",
      "font-size" : "35px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+16px",
      "text-transform" : "none"
    }, 
    {
      "font-family" : "Wire One", 
      "font-size" : "60px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+7px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Graduate",
      "font-size" : "40px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+12px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Freckle Face",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+11px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Berkshire Swash",
      "font-size" : "40px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+8x",
      "text-transform" : "none"
    },
    {
      "font-family" : "Special Elite",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+17px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Raleway Dots",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+10px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Loved by the King",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+13px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Dorsa", 
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+13px",
      "text-transform" : "uppercase"
    },
    {
      "font-family" : "Rye",
      "font-size" : "38px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+15px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Bonbon",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+16px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Akronim",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+18px",
      "text-transform" : "none"
    },
    {
      "font-family" : "VT323",
      "font-size" : "60px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+11px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Seaweed Script",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+14px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Give You Glory",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+19px",
      "text-transform" : "none"
    },
    {
      "font-family" : "UnifrakturCook",
      "font-size" : "50px",
      "font-weight" : "700",
      "position" : "relative",
      "top" : "+11px",
      "text-transform" : "none"
    },		
    {
      "font-family" : "Ranchers",
      "font-size" : "45px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+10px",
      "right": "-3px",
      "text-transform" : "uppercase"
    },
    {
      "font-family" : "Monsieur La Doulaise",
      "font-size" : "55px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+12px",
      "text-transform" : "none"
    },
    {
      "font-family" : "Londrina Shadow",
      "font-size" : "50px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+11px",
      "text-transform" : "uppercase"
    },
    {
      "font-family" : "Ewert",
      "font-size" : "40px",
      "font-weight" : "normal",
      "position" : "relative",
      "top" : "+13px",
      "right" : "-1px",
      "text-transform" : "none"
    }
  ];

  $currentFont = 0;

  $glitchCount = 0;
  $glitchTarget = 0;
  $glitchSpeed = 0;

  function randomColor($min, $max, $alpha) {
      return "rgb("+ (Math.floor((Math.random() * ($max-$min)) + 1 ) + $min)+
          ","+ (Math.floor((Math.random() * ($max-$min)) + 1 ) + $min)+
          ","+ (Math.floor((Math.random() * ($max-$min)) + 1 ) + $min)+","+$alpha+")";
  }

  function flickerSubheaderFont() {
    if ($glitchCount == $glitchTarget) {
     /* $("h1.logo").css(fonts[Math.floor((Math.random()+fonts.length-1)+1)]); */
      
      if ($currentFont == fonts.length-1) {
        $currentFont = 0;
      } else {
        $currentFont++;
      }

      $ran_r = Math.floor((Math.random() * 50)+1)+30;
      $ran_g = Math.floor((Math.random() * 50)+1)+30;
      $ran_b = Math.floor((Math.random() * 50)+1)+30;

      $headercolor = jQuery.Color($ran_r,$ran_g,$ran_b,1);
      $navcolor = jQuery.Color($ran_r*0.7,$ran_g*0.7,$ran_b*0.7,1);

      if ($ran_g > $ran_r && $ran_g > $ran_b) {
      	$bodycolor = jQuery.Color(265-($ran_r/3),263-($ran_g/4),263-($ran_b/4),1);
      } else if ($ran_g < $ran_r && $ran_g < $ran_b) {
      	$bodycolor = jQuery.Color(263-($ran_r/4),265-($ran_g/3),263-($ran_b/4),1);
      } else {
      	$bodycolor = jQuery.Color(265-($ran_r/3),265-($ran_g/3),265-($ran_b/3),1);
      }

      $('.site-header').stop().animate({backgroundColor: $headercolor}, 200);
      $('.nav-header').stop().animate({backgroundColor: $navcolor}, 200);
      $('body').stop().animate({backgroundColor: $bodycolor}, 400);
      
      setTimeout("switchSubheaderFont()",Math.floor((Math.random()*1500)+1)+3000);

      $glitchCount = 0;	
    } else {
      $('.site-header').stop().animate({backgroundColor: "rgb(40,40,40)"}, 100);
      $('.nav-header').stop().animate({backgroundColor: "rgb(25,25,25)"}, 100);

      $("h1.logo").css(fonts[Math.floor((Math.random()*fonts.length-1)+1)]);

      $glitchCount++;

      $glitchSpeed = glitchEasing($glitchSpeed);

      setTimeout("flickerSubheaderFont()",$glitchSpeed);
    }
  }

  function glitchEasing(t) { return t*1.29 }

  function switchSubheaderFont() {
    $glitchSpeed = 20;
    $glitchCount = 0;
    $glitchTarget = Math.floor((Math.random()*9)+5);
    flickerSubheaderFont();
  }

  $(document).ready(function() {
    $('.nav-header').click(function() {
        switchSubheaderFont();
      });

    setTimeout("switchSubheaderFont()",Math.floor((Math.random()*300)+1));
    setTimeout(function(){ $('h1.logo').css({opacity: 0.0,}).animate({opacity: 1}, 100); },300);
  });

  </script>

  {% assign page_title = '' %}
  {% if page.title == "Home" %}
      {% capture page_title %}
        {{ site.title_left }}{{ site.title_right }} | {{ site.description }}
        {%if paginator and paginator.page != 1 %} - {{ paginator.page }}{% endif %}
      {% endcapture %}
  {% else %}
      {% capture page_title %}
          {%if page.slug == 'category' %}Category: {% endif %}
          {%if page.slug == 'tag' %}Tag: {% endif %} {{ page.title }} | {{ site.title_left }}{{ site.title_right }}
      {% endcapture %}
  {% endif %}
  {% capture page_title %}
      {{ page_title | strip | rstrip | lstrip | escape | strip_newlines }}
  {% endcapture %}

  <title>{{ page_title }}</title>

  {% assign page_description = '' %}
  {% capture page_description %}
      {% if page.description %}
          {{ page.description | strip_html | strip | rstrip | strip_newlines | truncate: 160 }}
      {% else %}
          {{ site.description }}
      {% endif %}
      {%if paginator and paginator.page != 1 %} - {{ paginator.page }} {% endif %}
      {%if page.slug == 'category' %} Category: {{ page.title }}{% endif %}
      {%if page.slug == 'tag' %} Tag: {{ page.title }}{% endif %}
  {% endcapture %}

  {% capture page_description %}
      {{ page_description | strip | rstrip | lstrip | escape | strip_newlines }}
  {% endcapture %}

  <meta name="description" content="{{ page_description }}">
  <meta name="keywords" content="{% if page.keywords %}{{ page.keywords }}{% else %}{{ site.keywords }}{% endif %}">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">

  {% assign page_image = '' %}
  {% capture page_image %}
      {% if page.cover %}
          {{ page.cover | prepend: site.baseurl | prepend: site.url }}
      {% else %}
          {{ site.cover | prepend: site.baseurl | prepend: site.url }}
      {% endif %}
  {% endcapture %}
  {% capture page_image %}{{ page_image | strip | rstrip | lstrip | escape | strip_newlines }}{% endcapture %}

  <!-- Social: Facebook / Open Graph -->
{% if page.id %}
  <meta property="og:type" content="article">
  <meta property="article:author" content="{{ site.author.name }}">
  <meta property="article:section" content="{{ page.categories | join: ', ' }}">
  <meta property="article:tag" content="{{ page.keywords }}">
  <meta property="article:published_time" content="{{ page.date }}">
{% else%}
  <meta property="og:type" content="website">
{% endif %}
  <meta property="og:url" content="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
  <meta property="og:title" content="{{ page_title }}">
  <meta property="og:image" content="{{ page_image }}">
  <meta property="og:description" content="{{ page_description }}">
  <meta property="og:site_name" content="{{ site.author.name }}">
  <meta property="og:locale" content="en_US">

  <!-- Social: Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="{{ site.twitter_username }}">
  <meta name="twitter:title" content="{{ page_title }}">
  <meta name="twitter:description" content="{{ page_description }}">
  <meta name="twitter:image:src" content="{{ page_image }}">

  <!-- Social: Google+ / Schema.org  -->
  <meta itemprop="name" content="{{ page_title }}">
  <meta itemprop="description" content="{{ page_description }}">
  <meta itemprop="image" content="{{ page_image }}">

  <!-- Canonical link tag -->
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
  <link rel="alternate" type="application/rss+xml" title="{{ site.title_left }}{{ site.title_right }}" href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}">

  <!-- rel prev and next -->
  {% if paginator.previous_page %}
    <link rel="prev" href="{{ paginator.previous_page_path | prepend: site.baseurl | prepend: site.url }}">
  {% endif %}
  {% if paginator.next_page %}
    <link rel="next" href="{{ paginator.next_page_path | prepend: site.baseurl | prepend: site.url }}">
  {% endif %}

  <link rel="stylesheet" href="{{ "/assets/css/main.css" | prepend: site.baseurl | prepend: site.url }}">
</head>
